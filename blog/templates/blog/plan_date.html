{% extends 'blog/plan.html' %}

{% block plan_specific %}
  <form action="/plan/date/" method="post">
    {% csrf_token %}
    <div class="form-group d-flex">
      <i class="far fa-calendar"></i>&nbsp;&nbsp;
      <input type="text" name="year" class="form-control"
             placeholder="e.g., 2020" maxlength="4">
      <span>&nbsp;/&nbsp;</span>
      <input type="text" name="month" class="form-control"
             placeholder="e.g., 01" maxlength="2">
      <span>&nbsp;/&nbsp;</span>
      <input type="text" name="date" class="form-control"
             placeholder="e.g., 01" maxlength="2">&nbsp;&nbsp;
      <button type="submit" class="btn btn-outline-secondary btn-sm active">
        Submit</button>
    </div>
  </form>
  {% if error %}
    <div class="alert alert-primary" role="alert">
      请输入正确格式的 "年/月/日" ！
    </div>
  {% endif %}
  {% if date %}
    <div class="border-top mt-4 pt-3">
      <h4 class="text-center text-dark font-weight-bold">
        Daily Log {{ date }}</h4>
      <div class="mt-3">
        
        <div>
          <p class="alert alert-warning py-1" role="alert">
            <b>TASK</b>
            <button id="add-plan" type="button"
                    class="btn btn-primary">+</button>
          </p>
          <div class="border-left">
            {% for task in plans.task %}
              <div class="ml-3">
                <span class="font-weight-bold">{{ task.status }}</span>
                <span>{{ task.name }}</span>
              </div>
            {% endfor %}
          </div>
        </div>

        <div class="mt-3">
          <p class="alert alert-info py-1" role="alert">
            <b>NOTE</b>
          </p>
          <div class="border-left">
            {% for note in plans.note %}
              <div class="ml-3">
                <span class="font-weight-bold">{{ note.status }}</span>
                <span>{{ note.name }}</span>
              </div>
            {% endfor %}
          </div>
        </div>

        <div>
          <p class="alert alert-primary py-1" role="alert">
            <b>EVENT</b>
          </p>
          <div class="border-left">
            {% for event in plans.event %}
              <div class="ml-3">
                <span class="font-weight-bold">{{ event.status }}</span>
                <span>{{ event.name }}</span>
              </div>
            {% endfor %}
          </div>
        </div>
        
      </div>
    </div>
  {% endif %}
{% endblock %}
